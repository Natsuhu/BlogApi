<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.natsu.blog.mapper.CommentMapper">

    <select id="getPublicCommentCount" resultType="Integer" >
        select count(*) from comment where is_published = 1
    </select>

    <select id="getPublicCommentsByPage" parameterType="int" resultType="com.natsu.blog.pojo.Comment" >
        select * from comment where page = #{page} and is_published = 1 order by create_time desc
    </select>

    <select id="getPublicCommentsByArticleId" parameterType="int" resultType="com.natsu.blog.pojo.Comment" >
        select * from comment where article_id = #{articleId} and is_published = 1 order by create_time desc
    </select>

</mapper>
